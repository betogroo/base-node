<%- include('../partials/header.ejs') %>

<div class="container">

    <h1>Usuários</h1>
    <table class="table table-sm">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Nome</th>
                <th scope="col">Email</th>
                <th scope="col">RG</th>
                <th scope="col">Nível</th>
                <th scope="col">Ações</th>
            </tr>
        </thead>
        <tbody>
            <% users.forEach(user => { %>
            <tr>
                <th scope="row"><%=user.id%></th>
                <td><a href="/user/<%=user.id%>"><%=user.name%></a></td>
                <td><%=user.email%></td>
                <td><%=user.rg%></td>
                <td><%=user.Role.name%></td>
                <td>
                    <form action="/user/delete" method="POST">
                        <input type="hidden" name="id" value="<%=user.id%>">
                        <button class="btn btn-sm btn-danger" type="submit">Excluir</button>

                        <a class="btn btn-sm btn-warning" href="/user/edit/<%= user.id%>">Editar</a>
                    </form>
                </td>
            </tr>
            <% }) %>

        </tbody>
    </table>

</div>

<%- include('../partials/footer.ejs') %>